# WakeLock

[Screen Screen Wake Lock API](https://developer.mozilla.org/ja/docs/Web/API/Screen_Wake_Lock_API) の各デバイスでの挙動を確認するためのリポジトリ。

## 仕様

挙動の確認のために、2つのページを用意する。

### 共通仕様

- ページ滞在時間の表示
  - 何秒で画面がロックされたか確認する目的
  - ページを表示すると表示時間のカウントを行う (hh:mm:ss)
    - ページが閉じられたとき、非アクティブになったときにカウントを停止する
- デバイス情報の表示
  - スクリーンショットを撮った際に区別しやすいようにする目的
  - 次の項目を表示する
    - OS 名
    - OS バージョン
    - ブラウザ名
    - ブラウザバージョン
  - User-Agent Client Hints API が利用できる場合はそちらを利用する
  - 利用できない場合は User-Agent 文字列から取り出す
- Screen Wake Lock API のサポート状況の表示
  - API がブラウザでサポートされているかを表示する
- エラーハンドリング
  - エラー発生時には、エラーメッセージを最下部に表示する
  - デバッグしやすいように自動では非表示にせず、バツボタンで消せる UI とする

### /explicitly

- 明示的にトグルスイッチを有効にすることで Screen Wake Lock API を呼び出す。
- WakeLock 有効化時間の表示 (hh:mm:ss)
  - トグルスイッチを有効にしてからの時間のカウントを行う
    - ページ滞在時間の下に表示する
    - ページが閉じられたとき、非アクティブになったときにカウントを停止する
- トグルスイッチが有効な状態でページが非表示から復帰した場合、WakeLock を自動で再取得する。

### /immediately

- ページが表示されたタイミングで Screen Wake Lock API を呼び出す。
- `/explicitly` とは異なり、WakeLock 有効化時間の表示は行わない (ページ滞在時間と同等のため)
- ページが非表示から復帰した場合、WakeLock を自動で再取得する。
